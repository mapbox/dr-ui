(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"+acX":function(e,t,a){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=c(e);if(t){var l=c(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return u(this,a)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(a("q1tI")),d=(a("yr+R"),a("cQZ0"),f(a("ks1d")));function f(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var p={title:"Multi-structured sites",description:"How to build a site with more than one product.",order:4,layout:"page",contentType:"guide",products:["Documentation"],headings:[{text:"1. Create a new docs repository",slug:"1-create-a-new-docs-repository",level:2},{text:"2. Identify your site structure",slug:"2-identify-your-site-structure",level:2},{text:"3. Create your subsite configuration",slug:"3-create-your-subsite-configuration",level:2},{text:"4. Add the configuration to the navigation Batfish selector",slug:"4-add-the-configuration-to-the-navigation-batfish-selector",level:2},{text:"5. Add pages to each subsite",slug:"5-add-pages-to-each-subsite",level:2}]},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,a,n,u=s(c);function c(){return l(this,c),u.apply(this,arguments)}return t=c,(a=[{key:"render",value:function(){var e=this.props;return i.default.createElement(d.default,m({},e,{frontMatter:p}),i.default.createElement("div",null,i.default.createElement("p",null,"Most docs.mapbox.com sites use a single structure, which means it documents a single product. But ",i.default.createElement("a",{href:"https://docs.mapbox.com/ios/maps/overview/"},"iOS")," and ",i.default.createElement("a",{href:"https://docs.mapbox.com/android/maps/overview/"},"Android")," use a multi-structure to document several products (for example the Maps SDK, Navigation SDK, and Plugins)."),i.default.createElement("p",null,"This guide will walk you through creating a new multi-structured site."),i.default.createElement("h2",{id:"1-create-a-new-docs-repository",className:"anchor"},i.default.createElement("a",{href:"#1-create-a-new-docs-repository",className:"unprose color-blue-on-hover"},"1. Create a new docs repository")),i.default.createElement("p",null,"Start by creating a new repository with ",i.default.createElement("a",{href:"https://github.com/mapbox/docs-starter-kit"},"docs starter kit"),"."),i.default.createElement("ol",null,i.default.createElement("li",null,'Click the "Use this template" button to create a new repository for your site.'),i.default.createElement("li",null,'Follow the steps under "Customize the repository" in the README new repository setup checklist.')),i.default.createElement("h2",{id:"2-identify-your-site-structure",className:"anchor"},i.default.createElement("a",{href:"#2-identify-your-site-structure",className:"unprose color-blue-on-hover"},"2. Identify your site structure")),i.default.createElement("p",null,"Docs starter kit includes a single-structured site. This means that the contents of ",i.default.createElement("code",null,"src/pages/")," all belong to a single product. In this step, you will identify your site's multi-structure and begin building out the files."),i.default.createElement("ol",null,i.default.createElement("li",null,"Determine the subsites. This is often a product, for example iOS has maps, navigation, and vision.",i.default.createElement("ol",null,i.default.createElement("li",null,"Determine a shortened name for each subsite which will be used as the URL for each subsite. For example: ",i.default.createElement("code",null,"/ios/maps/"),"."),i.default.createElement("li",null,"Create a folder for each subsite in ",i.default.createElement("code",null,"src/pages/")," using the shortened name. For example: ",i.default.createElement("code",null,"src/pages/maps/"),"."))),i.default.createElement("li",null,"Determine the title for each subsite.")),i.default.createElement("p",null,"Your site structure will look something like:"),i.default.createElement("pre",null,i.default.createElement("code",null,"src/","\n","  ","pages/","\n","    ","maps/","\n","    ","navigation/","\n","    ","vision/","\n")),i.default.createElement("h2",{id:"3-create-your-subsite-configuration",className:"anchor"},i.default.createElement("a",{href:"#3-create-your-subsite-configuration",className:"unprose color-blue-on-hover"},"3. Create your subsite configuration")),i.default.createElement("p",null,"Using the path names and titles you identified in the previous step, build a configuration JSON."),i.default.createElement("p",null,"Your JSON will look something like:"),i.default.createElement("pre",{className:"language-js"},i.default.createElement("code",{className:"language-js"},i.default.createElement("span",{className:"token keyword"},"const")," subsites ",i.default.createElement("span",{className:"token operator"},"=")," ",i.default.createElement("span",{className:"token punctuation"},"["),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'maps'"),i.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'Maps SDK for iOS'"),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"}"),i.default.createElement("span",{className:"token punctuation"},","),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'navigation'"),i.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'Navigation SDK for iOS'"),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"}"),i.default.createElement("span",{className:"token punctuation"},","),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'vision'"),i.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",i.default.createElement("span",{className:"token operator"},":")," ",i.default.createElement("span",{className:"token string"},"'Vision SDK for iOS'"),"\n","  ",i.default.createElement("span",{className:"token punctuation"},"}"),"\n",i.default.createElement("span",{className:"token punctuation"},"]"),i.default.createElement("span",{className:"token punctuation"},";"),"\n")),i.default.createElement("p",null,"See ",i.default.createElement("a",{href:"/dr-ui/guides/batfish-helpers/#shape-of-multi-structured-sections"},"Shape of multi-structured sections")," for more options."),i.default.createElement("h2",{id:"4-add-the-configuration-to-the-navigation-batfish-selector",className:"anchor"},i.default.createElement("a",{href:"#4-add-the-configuration-to-the-navigation-batfish-selector",className:"unprose color-blue-on-hover"},"4. Add the configuration to the navigation Batfish selector")),i.default.createElement("ol",null,i.default.createElement("li",null,"In ",i.default.createElement("code",null,"batfish.config.js"),", below the required packages and above the Batfish configuration function, create a constant, add the ",i.default.createElement("code",null,"subsites")," constant you created in the previous step."),i.default.createElement("li",null,"In the Batfish configuration function, find ",i.default.createElement("code",null,"navigation")," in ",i.default.createElement("code",null,"dataSelectors"),"."),i.default.createElement("li",null,"Add a ",i.default.createElement("code",null,"sections")," argument to the ",i.default.createElement("code",null,"buildNavigation")," function to include the ",i.default.createElement("code",null,"subsites")," constant you created in the first step:")),i.default.createElement("pre",null,i.default.createElement("code",null,"navigation: data => buildNavigation(","{"," siteBasePath, data, sections: subsites ","}","),","\n")),i.default.createElement("ol",{start:4},i.default.createElement("li",null,"The site's navigation data selector can now support your multi-structured site.")),i.default.createElement("p",null,"See the ",i.default.createElement("a",{href:"/dr-ui/guides/batfish-helpers/#navigation"},"navigation Batfish data selector")," for more documentation."),i.default.createElement("h2",{id:"5-add-pages-to-each-subsite",className:"anchor"},i.default.createElement("a",{href:"#5-add-pages-to-each-subsite",className:"unprose color-blue-on-hover"},"5. Add pages to each subsite")),i.default.createElement("p",null,"Each subsite's folder now acts as a single-structure site. From the frontmatter of each page, you can define the pages that should appear in the top navigation bar with ",i.default.createElement("code",null,"navOrder")," and order each page in that section with ",i.default.createElement("code",null,"order"),". See the ",i.default.createElement("a",{href:"/dr-ui/guides/page-layout/"},i.default.createElement("code",null,"PageLayout")," component")," guide to learn about more frontmatter fields."),i.default.createElement("p",null,"Below is an example of the folder structure for a subsite:"),i.default.createElement("pre",null,i.default.createElement("code",null,"src/","\n","  ","pages/","\n","    ","maps/","\n","      ","examples/","\n","        ","index.md (navOrder: 2)","\n","        ","add-marker.md","\n","        ","clustering.md","\n","      ","help/","\n","        ","index.md (navOrder: 3)","\n","      ","overview/","\n","        ","index.md (navOrder: 1)","\n","        ","mapbox-studio.md","\n","      ","index.js","\n")),i.default.createElement("p",null,"Most subsites include:"),i.default.createElement("ul",null,i.default.createElement("li",null,"An ",i.default.createElement("code",null,"overview/")," folder that contains a collection of guides and the homepage for the subsite",i.default.createElement("ul",null,i.default.createElement("li",null,"For example: ",i.default.createElement("code",null,"src/maps/overview/index.md"),"."),i.default.createElement("li",null,"The homepage usually includes the ",i.default.createElement("a",{href:"/dr-ui/components/#overviewheader"},i.default.createElement("code",null,"OverviewHeader"))," component at the top of the page to define the product for that subsite."))),i.default.createElement("li",null,"The ",i.default.createElement("code",null,"index.js")," in the subsite's root folder is usually a redirect to the overview homepage:")),i.default.createElement("pre",{className:"language-js"},i.default.createElement("code",{className:"language-js"},i.default.createElement("span",{className:"token keyword module"},"import")," ",i.default.createElement("span",{className:"token imports"},i.default.createElement("span",{className:"token punctuation"},"{")," prefixUrl ",i.default.createElement("span",{className:"token punctuation"},"}"))," ",i.default.createElement("span",{className:"token keyword module"},"from")," ",i.default.createElement("span",{className:"token string"},"'@mapbox/batfish/modules/prefix-url'"),i.default.createElement("span",{className:"token punctuation"},";"),"\n",i.default.createElement("span",{className:"token keyword module"},"import")," ",i.default.createElement("span",{className:"token imports"},i.default.createElement("span",{className:"token punctuation"},"{")," createRedirect ",i.default.createElement("span",{className:"token punctuation"},"}"))," ",i.default.createElement("span",{className:"token keyword module"},"from")," ",i.default.createElement("span",{className:"token string"},"'@mapbox/dr-ui/helpers/create-redirect'"),i.default.createElement("span",{className:"token punctuation"},";"),"\n","\n",i.default.createElement("span",{className:"token keyword module"},"export")," ",i.default.createElement("span",{className:"token keyword module"},"default")," ",i.default.createElement("span",{className:"token function"},"createRedirect"),i.default.createElement("span",{className:"token punctuation"},"("),i.default.createElement("span",{className:"token function"},"prefixUrl"),i.default.createElement("span",{className:"token punctuation"},"("),i.default.createElement("span",{className:"token string"},"'/maps/overview/'"),i.default.createElement("span",{className:"token punctuation"},")"),i.default.createElement("span",{className:"token punctuation"},")"),i.default.createElement("span",{className:"token punctuation"},";"),"\n"))))}}])&&r(t.prototype,a),n&&r(t,n),c}(i.default.PureComponent);t.default=h},iMY4:function(e,t,a){var n=a("+acX");n=n.default||n,e.exports={component:n,props:{frontMatter:{title:"Multi-structured sites",description:"How to build a site with more than one product.",order:4,layout:"page",contentType:"guide",products:["Documentation"]}}}}}]);