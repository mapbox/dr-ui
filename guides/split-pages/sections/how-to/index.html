<!doctype html><html lang="en"><head><title data-react-helmet="true">Dr. UI</title>

<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width,initial-scale=1"/><meta data-react-helmet="true" name="robots" content="noindex"/>



<style>a,body,code,div,h2,h3,h4,h5,html,li,ol,p,pre,span,ul{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}body{color:#0e2127;font-size:16px;line-height:24px;font-family:'Open Sans',sans-serif;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}html{-webkit-box-sizing:border-box;box-sizing:border-box}body,h2,h3,h4,h5{font-weight:400}*,::after,::before,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}ol,ul{list-style:none}a{text-decoration:none;color:inherit}pre{display:block;white-space:pre-wrap;-moz-tab-size:2;-o-tab-size:2;tab-size:2}@font-face{font-family:'Open Sans';font-weight:400;font-display:swap;src:url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-regular.v1.woff2) format('woff2'),url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-regular.v1.woff) format('woff')}@font-face{font-family:'Open Sans';font-weight:300;font-display:swap;src:url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-light.v1.woff2) format('woff2'),url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-light.v1.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:italic;font-display:swap;src:url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-italic.v1.woff2) format('woff2'),url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-italic.v1.woff) format('woff')}@font-face{font-family:'Open Sans';font-weight:700;font-display:swap;src:url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-bold.v1.woff2) format('woff2'),url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-bold.v1.woff) format('woff')}@font-face{font-family:'Open Sans';font-weight:700;font-style:italic;font-display:swap;src:url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-bolditalic.v1.woff2) format('woff2'),url(https://api.mapbox.com/mapbox-assembly/fonts/opensans-bolditalic.v1.woff) format('woff')}.prose code:not(.unprose),.prose pre:not(.unprose){font-family:'Menlo','Bitstream Vera Sans Mono','Monaco','Consolas',monospace;white-space:pre-wrap;font-size:90%;line-height:1.5em;background:rgba(14,33,39,.05);border-radius:3px}.prose pre:not(.unprose){padding:12px;overflow:auto;margin-bottom:12px}.prose pre code:not(.unprose){background:0 0;padding:0}.prose code:not(.unprose){padding:2px 4px}.txt-bold{font-weight:700!important}.prose :last-child:not(.unprose){margin-bottom:0}.round{border-radius:4px!important}.relative{position:relative!important}.z0{z-index:0!important}.z2{z-index:2!important}.mb6{margin-bottom:6px!important}.mb18{margin-bottom:18px!important}.px0{padding-left:0!important;padding-right:0!important}.pr12{padding-right:12px!important}.prose pre::-webkit-scrollbar,.scroll-styled::-webkit-scrollbar{width:6px;height:6px;background:0 0}.prose pre::-webkit-scrollbar:hover,.scroll-styled::-webkit-scrollbar:hover{background:0 0}.scroll-styled::-webkit-scrollbar-track{background:0 0}.scroll-styled::-webkit-scrollbar-thumb{background:rgba(0,0,0,.25);border-color:transparent;width:6px;border-radius:3px}.prose pre::-webkit-scrollbar-thumb:hover,.scroll-styled::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.35)}.prose pre::-webkit-scrollbar-track,.prose pre::-webkit-scrollbar-track:hover,.scroll-styled::-webkit-scrollbar-track:hover{background:0 0}.color-blue-on-hover:hover{color:#4264fb!important}@media screen and (min-width:640px){.flex-mm{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.flex--space-between-main-mm{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}}.prose pre::-webkit-scrollbar-thumb{background:rgba(0,0,0,.25);border-color:transparent;width:6px;border-radius:3px}.token.comment{color:#53708e}.token.punctuation{color:#273d56}.token.property,.token.tag{color:#314ccd}.token.attr-name,.token.string{color:#ce2c69}.token.operator{color:#273d56}.token.class-name,.token.function{color:#385af5}.token.keyword{color:#314ccd}.prose pre,pre{max-height:300px;margin-bottom:18px!important}
/*# sourceMappingURL=batfish-styles-b92169ca51bb40a415f8490b4a3edc2d.css.map */</style>
<script id="loadCss">document.addEventListener('DOMContentLoaded',function(){var s=document.createElement('link');s.rel='stylesheet';s.href='/dr-ui/assets/batfish-styles-b92169ca51bb40a415f8490b4a3edc2d.css';document.head.insertBefore(s, document.getElementById('loadCss'));});</script>
</head><body><div id="batfish-content"><div data-reactroot=""><div><h2 id="how-to-use-split-pages" class="anchor"><a href="#how-to-use-split-pages" class="unprose color-blue-on-hover">How to use split pages</a></h2><p>Before you begin using this pattern, read about its <a href="#limitations">limitations</a> to make sure it&#x27;s the right option for your site.</p><h3 id="1-create-the-main-page" class="anchor"><a href="#1-create-the-main-page" class="unprose color-blue-on-hover">1. Create the main page</a></h3><p>The main page is where you will combine all the partial markdown files.</p><ol><li>Create an <code>index.js</code> file, this is the main page. It must be a JavaScript file so that the sidebar scroll spy will work correctly.</li><li>In the frontmatter of the main page:<ul><li>Add <code>splitPages: true</code> to the frontmatter.</li><li>Add <code>order</code> to choose the order in which it will appear in the <code>NavgiationAccordion</code>.</li><li>Set <code>hideFeedback: true</code> (usually). If the partial files will have feedback enabled, you&#x27;ll want to disable the feedback from also appearing at the bottom of the page.</li></ul></li><li>Once created, import each partial file in the main page.</li><li>Import the <code>splitPages</code> function to override the page&#x27;s headings. (Depending on your set-up, this step may happen in the site&#x27;s page-shell instead.)</li></ol><h4 id="example" class="anchor"><a href="#example" class="unprose color-blue-on-hover">Example</a></h4><div class="mb18"><div data-swiftype-index="false"><div class="flex-mm flex--space-between-main-mm mb6"><div class="flex-mm"><div class="txt-bold color-gray-dar mb6">src/pages/guides/split-pages/index.js</div></div></div><div class="relative prose"><div class="relative round z0 scroll-styled"><pre><code class="px0 hljs"><div class="relative z2" data-chunk-code="chunk-0"><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token comment">/*---</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">title: Split pages</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">description: This is the first section</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">splitPages: true</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">order: 3</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">layout: page</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">contentType: API</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">---*/</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token comment">// Import each markdown file.</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> Intro <span class="token keyword">from</span> <span class="token string">'./sections/intro.md'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> HowTo <span class="token keyword">from</span> <span class="token string">'./sections/how-to.md'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> Limitations <span class="token keyword">from</span> <span class="token string">'./sections/limitations.md'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> TagDebugger <span class="token keyword">from</span> <span class="token string">'./sections/tag-debugger.md'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> PageShell <span class="token keyword">from</span> <span class="token string">'../../../components/page-shell'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token comment">// Import splitPage function</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> splitPages <span class="token keyword">from</span> <span class="token string">'@mapbox/batfish/data/split-pages'</span><span class="token punctuation">;</span> <span class="token comment">// eslint-disable-line</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">const</span> <span class="token punctuation">{</span> location <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token comment">// Override the combines headings in the sidebar</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">const</span> headings <span class="token operator">=</span> splitPages<span class="token punctuation">[</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">]</span><span class="token punctuation">.</span>headings<span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">return</span> <span class="token punctuation">(</span></div></div><div class="pr12" style="padding-left:55.349999999999994px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PageShell</span></span> <span class="token attr-name">headings</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>headings<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">></span></span></div></div><div class="pr12" style="padding-left:69.8px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Intro</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></div></div><div class="pr12" style="padding-left:69.8px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HowTo</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></div></div><div class="pr12" style="padding-left:69.8px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Limitations</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></div></div><div class="pr12" style="padding-left:69.8px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TagDebugger</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></div></div><div class="pr12" style="padding-left:55.349999999999994px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">PageShell</span></span><span class="token punctuation">></span></span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div></div></code></pre></div></div></div></div><h3 id="2-create-the-split-pages" class="anchor"><a href="#2-create-the-split-pages" class="unprose color-blue-on-hover">2. Create the split pages</a></h3><ol><li>Create a new directory, <code>sections/</code>, in the same folder as the <code>index.js</code> you created in the previous step.</li><li>In the <code>sections/</code> directory, compose your markdown files.</li><li>In each markdown file:<ul><li>Add <code>splitPage: true</code> to the frontmatter.</li><li>Add <code>order:</code> to chose the order in which each section (or partial markdown file) will appear on the main page - this is necessary in generating the headings. You will need to make sure this is the same order as the imported partial files in the main page.</li></ul></li></ol><h4 id="example-1" class="anchor"><a href="#example-1" class="unprose color-blue-on-hover">Example</a></h4><div data-swiftype-index="false"><div class="flex-mm flex--space-between-main-mm mb6"><div class="flex-mm"><div class="txt-bold color-gray-dar mb6">src/pages/guides/split-pages/sections/intro.md</div></div></div><div class="relative prose"><div class="relative round z0 scroll-styled"><pre><code class="px0 hljs"><div class="relative z2" data-chunk-code="chunk-0"><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">---</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">title: Introduction to split pages</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">description: An introduction to use split pages.</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">order: 1</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">splitPage: true</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">hideFeedback: true</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">products:</div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px">- Documentation</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">contentType: guide</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">---</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">This page demonstrates the split page pattern and provides steps on how to implement it on a site.</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">To improve internal developer experience, the pattern splits a longer page into multiple markdown files (also known as markdown partial files) and then imports the markdown files into a single page (also known as the main page).</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">This split page pattern is used by the following pages:</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">- [API documentation](https://docs.mapbox.com/api/maps/)</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">- [Studio manual reference](https://docs.mapbox.com/studio-manual/reference/)</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">- [Accounts pricing page](https://docs.mapbox.com/accounts/overview/pricing/)</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">- [Vector Tiles Specification](https://docs.mapbox.com/vector-tiles/specification/)</div></div></div></code></pre></div></div></div><h3 id="3-update-the-batfish-configuration" class="anchor"><a href="#3-update-the-batfish-configuration" class="unprose color-blue-on-hover">3. Update the Batfish configuration</a></h3><p>You will need to update the Batfish configuration to define the wrapper component for the partial markdown files and load the <a href="/dr-ui/guides/batfish-helpers/#split-pages"><code>split-pages</code></a> Batfish helper function.</p><h4 id="splitpage-wrapper" class="anchor"><a href="#splitpage-wrapper" class="unprose color-blue-on-hover">SplitPage wrapper</a></h4><p>Use the <a href="https://github.com/mapbox/dr-ui/blob/main/src/components/page-layout/split-page.js">SplitPage component</a> (<code>@mapbox/dr-ui/page-layout/split-page</code>) as the wrapper for each markdown partial file. You will likely also need to create a local wrapper component to pass the page&#x27;s constants file to the component since the Feedback component requires data from the constants file.</p><ol><li>Create a local component: <code>src/components/split-page-shell.js</code>.</li><li>Import the SplitPage component: <code>import SplitPage from &#x27;@mapbox/dr-ui/page-layout/split-page&#x27;;</code></li><li>Import the site&#x27;s local constant&#x27;s file.</li><li>Pass all props and the <code>constants</code> to the SplitPage component.</li></ol><h5 id="example-2" class="anchor"><a href="#example-2" class="unprose color-blue-on-hover">Example</a></h5><div data-swiftype-index="false"><div class="flex-mm flex--space-between-main-mm mb6"><div class="flex-mm"><div class="txt-bold color-gray-dar mb6">src/components/split-page-shell.js</div></div></div><div class="relative prose"><div class="relative round z0 scroll-styled"><pre><code class="px0 hljs"><div class="relative z2" data-chunk-code="chunk-0"><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> SplitPage <span class="token keyword">from</span> <span class="token string">'../../../src/components/page-layout/split-page'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">import</span> constants <span class="token keyword">from</span> <span class="token string">'../constants.json'</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">SplitPageShell</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">const</span> <span class="token punctuation">{</span> children <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">return</span> <span class="token punctuation">(</span></div></div><div class="pr12" style="padding-left:55.349999999999994px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SplitPage</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token attr-name">constants</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>constants<span class="token punctuation">}</span></span><span class="token punctuation">></span></span></div></div><div class="pr12" style="padding-left:69.8px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:55.349999999999994px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">SplitPage</span></span><span class="token punctuation">></span></span></div></div><div class="pr12" style="padding-left:40.9px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">SplitPageShell<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:26.45px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token literal-property property">children</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>node</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></div></code></pre></div></div></div><h4 id="define-splitpage-wrapper-in-the-batfish-configuration" class="anchor"><a href="#define-splitpage-wrapper-in-the-batfish-configuration" class="unprose color-blue-on-hover">Define SplitPage wrapper in the Batfish configuration</a></h4><ol><li>Update <code>batfish.config.js</code> to define the new wrapper and using a logic, only apply the wrapper to files in the <code>sections/</code> directory:</li></ol><div data-swiftype-index="false"><div class="flex-mm flex--space-between-main-mm mb6"><div class="flex-mm"><div class="txt-bold color-gray-dar mb6">batfish.config.js</div></div></div><div class="relative prose"><div class="relative round z0 scroll-styled"><pre><code class="px0 hljs"><div class="relative z2" data-chunk-code="chunk-0"><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token literal-property property">jsxtremeMarkdownOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token function-variable function">getWrapper</span><span class="token operator">:</span> <span class="token parameter">resource</span> <span class="token operator">=></span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:19.225px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">//sections//.test(resource)) {</span></div></div><div class="pr12" style="padding-left:33.675px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span></div></div><div class="pr12" style="padding-left:48.125px"><div style="text-indent:-14.45px;margin-left:14.45px">__dirname<span class="token punctuation">,</span></div></div><div class="pr12" style="padding-left:48.125px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token string">'./src/components/split-page-shell.js'</span></div></div><div class="pr12" style="padding-left:33.675px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:19.225px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:33.675px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/components/page-shell.js'</span><span class="token punctuation">)</span></div></div><div class="pr12" style="padding-left:19.225px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div></div></code></pre></div></div></div><ul><li>If you do not want the Feedback component to appear after each section (or partial markdown file), you can reference <code>@mapbox/dr-ui/page-layout/split-page</code> instead of the local <code>split-page-shell.js</code> in <code>batfish.config.js</code>.</li><li>You can turn off the Feedback component from any partial markdown file by setting <code>hideFeedback: true</code> in the frontmatter of the desired section.</li></ul><h4 id="use-the-split-pages-batfish-data-selector" class="anchor"><a href="#use-the-split-pages-batfish-data-selector" class="unprose color-blue-on-hover">Use the split-pages Batfish data selector</a></h4><p>The <a href="/dr-ui/guides/batfish-helpers/#split-pages"><code>split-pages</code></a> Batfish data selector will combine metadata and headings for all partial markdown files and create a single source for the main page to reference.</p><ol><li>Import the <code>buildSplitPages</code> function in <code>batfish.config.js</code>.</li><li>Create a new <code>splitPages</code> dataSelector that returns the <code>buildSplitPages</code> function.</li></ol><div data-swiftype-index="false"><div class="flex-mm flex--space-between-main-mm mb6"><div class="flex-mm"><div class="txt-bold color-gray-dar mb6">batfish.config.js</div></div></div><div class="relative prose"><div class="relative round z0 scroll-styled"><pre><code class="px0 hljs"><div class="relative z2" data-chunk-code="chunk-0"><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">const</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">buildSplitPages</div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@mapbox/dr-ui/helpers/batfish/split-pages.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"> </div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token keyword">return</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token literal-property property">dataSelectors</span><span class="token operator">:</span> <span class="token punctuation">{</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token function-variable function">splitPages</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">buildSplitPages</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div><div class="pr12" style="padding-left:12px"><div style="text-indent:-14.45px;margin-left:14.45px"><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></div></code></pre></div></div></div><h3 id="4-create-redirects" class="anchor"><a href="#4-create-redirects" class="unprose color-blue-on-hover">4. Create redirects</a></h3><p>You will need to create redirects in <a href="https://github.com/mapbox/subdomain-docs">subdomain-docs</a> to redirect the partial files to the main file. The redirects will prevent users, or more likely web crawlers, from accessing the page partials.</p><p>See <a href="https://github.com/mapbox/subdomain-docs/pull/75">Redirects for Studio Manual reference &quot;sections&quot; pages #75</a> for a similar example.</p></div> </div></div><div><script>!function(n){function e(e){for(var r,d,u=e[0],a=e[1],i=e[2],t=0,s=[];t<u.length;t++)d=u[t],Object.prototype.hasOwnProperty.call(c,d)&&c[d]&&s.push(c[d][0]),c[d]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r]);for(f&&f(e);s.length;)s.shift()();return p.push.apply(p,i||[]),o()}function o(){for(var e,r=0;r<p.length;r++){for(var d=p[r],u=!0,a=1;a<d.length;a++){var i=d[a];0!==c[i]&&(u=!1)}u&&(p.splice(r--,1),e=l(l.s=d[0]))}return e}var d={},c={31:0},p=[];function l(e){if(d[e])return d[e].exports;var r=d[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(u){var e,a,i,r,t,d=[],s=c[u];return 0!==s&&(s?d.push(s[2]):(e=new Promise(function(e,r){s=c[u]=[e,r]}),d.push(s[2]=e),(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.src=l.p+""+({0:"vendors~dr-ui-changelog~dr-ui-components~dr-ui-examples~dr-ui-examples-example-1~dr-ui-examples-exam~11a84926",1:"dr-ui-changelog~dr-ui-examples~dr-ui-examples-example-1~dr-ui-examples-example-2~dr-ui-examples-exam~5b125db4",2:"vendors~dr-ui-changelog~dr-ui-components~dr-ui-examples~dr-ui-examples-example-1~dr-ui-examples-exam~d91d8947",3:"vendors~dr-ui-changelog~dr-ui-components~dr-ui-examples~dr-ui-examples-example-1~dr-ui-examples-exam~133474cd",4:"vendors~dr-ui-components~dr-ui-guides-page-layout~dr-ui-guides-split-pages~dr-ui-guides-split-pages-~1a76b232",6:"dr-ui",7:"dr-ui-changelog",8:"dr-ui-components",9:"dr-ui-examples",10:"dr-ui-examples-example-1",11:"dr-ui-examples-example-2",12:"dr-ui-examples-example-3",13:"dr-ui-examples-example-4",14:"dr-ui-examples-example-5",15:"dr-ui-guides",16:"dr-ui-guides-batfish-helpers",17:"dr-ui-guides-grouped-guides",18:"dr-ui-guides-grouped-guides-file-structure",19:"dr-ui-guides-grouped-guides-frontmatter",20:"dr-ui-guides-grouped-guides-resulting-ui",21:"dr-ui-guides-multi-structured",22:"dr-ui-guides-page-layout",23:"dr-ui-guides-split-pages",24:"dr-ui-guides-split-pages-sections-how-to",25:"dr-ui-guides-split-pages-sections-intro",26:"dr-ui-guides-split-pages-sections-limitations",27:"dr-ui-guides-split-pages-sections-tag-debugger",28:"dr-ui-guides-test-pages",29:"dr-ui-guides-test-pages-a11y",30:"dr-ui-guides-test-pages-headings",32:"search-provider",34:"vendors~assembly-js",35:"vendors~search-provider"}[u]||u)+"-"+{0:"7b1ba7eb6d6c7cdbddcb",1:"b6d70bb2c2bf9fdbcf49",2:"dc3b159863b7bf7d0d8b",3:"f69fd834833873c01d48",4:"9ffd99e3cec02c1da2ed",6:"b7790d6d6e85f03fd00f",7:"4070e9a69e655e629f47",8:"dfb7db5c7053cb7f5e6f",9:"60cb27c2527de81f69c4",10:"6096938162a459ec7331",11:"c6232cdd44eec33f316a",12:"f6afb457688d9cd39292",13:"c1c09aeab53b2a9cbc7f",14:"345b181186f4a0099404",15:"dcebae59b6d7d1391b46",16:"bd55d66c621f4b4f54f7",17:"d853a278c67bca705811",18:"eff85436988bba9f540e",19:"c9d967a53598e2544cac",20:"326536ce93ad38f97dfe",21:"84f118b9c2bdfaaef044",22:"51b833c0f24f0eb18d16",23:"074667fb3fc654c438da",24:"a053e9668b5584b1375f",25:"d7fc870c2f332b6e2c7e",26:"3d3bc929d18062c63acf",27:"310dae5a5de4ad6fe6ca",28:"9e3c0b7436748959db01",29:"ed4e3b2d92ed63e4db00",30:"b63ec34b1cc9f06efb4d",32:"1aab55af102d0afccecd",34:"5ca7149ec753a21c2ac3",35:"c2e14bd903881d8f6f7c"}[u]+".chunk.js",i=new Error,r=function(e){a.onerror=a.onload=null,clearTimeout(t);var r,d=c[u];0!==d&&(d&&(r=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,i.message="Loading chunk "+u+" failed.\n("+r+": "+e+")",i.name="ChunkLoadError",i.type=r,i.request=e,d[1](i)),c[u]=void 0)},t=setTimeout(function(){r({type:"timeout",target:a})},12e4),a.onerror=a.onload=r,document.head.appendChild(a))),Promise.all(d)},l.m=n,l.c=d,l.d=function(e,r,d){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:d})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(r,e){if(1&e&&(r=l(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var u in r)l.d(d,u,function(e){return r[e]}.bind(null,u));return d},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dr-ui/assets/",l.oe=function(e){throw console.error(e),e};var r=(u=window.webpackJsonp=window.webpackJsonp||[]).push.bind(u);u.push=e;for(var u=u.slice(),a=0;a<u.length;a++)e(u[a]);var f=r;o()}([]);</script>
<script src="/dr-ui/assets/vendor-e740e63f2a4c60c3c894.chunk.js"></script>
<script src="/dr-ui/assets/app-d53ddf36cca2758fe983.chunk.js"></script></div></body></html>